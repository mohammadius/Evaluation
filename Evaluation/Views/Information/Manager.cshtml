<h2>مدیر</h2>

@(Html.DevExtreme().DataGrid<VwManager>()
	.ShowBorders(true)
	.RtlEnabled(true)
	.RowAlternationEnabled(true)
	.NoDataText("بدون اطلاعات")
	.Editing(e =>
	{
		e.Mode(GridEditMode.Row);
		e.AllowAdding(true);
		e.AllowDeleting(true);
		e.UseIcons(true);
		e.Popup(p =>
		{
			p.RtlEnabled(true);
			p.CloseOnOutsideClick(true);
		});

		e.Texts(t =>
		{
			t.DeleteRow("حذف");
			t.AddRow("اضافه کردن");
			t.SaveRowChanges("ثبت");
			t.CancelRowChanges("انصراف");
			t.ConfirmDeleteMessage("این رکورد حذف شود؟");
		});
	})
	.Sorting(s =>
	{
		s.AscendingText("مرتب کردن سعودی");
		s.DescendingText("مرتب کردن نزولی");
		s.ClearText("حذف مرتب کردن");
	})
	.FilterRow(filterRow => filterRow
		.Visible(true)
		.ApplyFilter(GridApplyFilterMode.Auto)
	)
	.DataSource(d => d.Mvc().Controller("Managers")
		.LoadAction("Get")
		.InsertAction("Insert")
		.DeleteAction("Delete")
		.Key("Id"))
	.Columns(columns =>
	{
		columns.AddFor(m => m.EmployeeId).Caption("کارمند")
			.Lookup(lookup =>
				lookup.DataSource(d => d.Mvc().Controller("Employees").LoadAction("Get").Key("Id"))
					.DisplayExpr(new JS("(e) => `${e.FirstName} ${e.LastName} (${e.Nid})`"))
					.ValueExpr("Id")
			)
			.EditorOptions(new {placeholder = "انتخاب کنید..."});
	})
	)